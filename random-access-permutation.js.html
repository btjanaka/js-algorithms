<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: random-access-permutation.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: random-access-permutation.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Functions for handling Random Access Permutations
 * @module
 */

/**
 * Calculates the n-th lexicographical permutation of the items in the array.
 * Does not take into account repeated permutations.
 * Complexity: O(k|arr|&lt;sup>2&lt;/sup>), where k represents the time to carry out
 * bigint operations.
 * @warning Only works when |arr| &lt;= 18
 * @param {array} arr A sorted array to find the permutation of
 * @param {JSBI.BigInt} n The number of the permutation to find (0-based)
 * @return {array} The n-th lexicographical permutation, counting repeats.
 */
function RAPNonUnique(arr, n) {
  let len = arr.length;
  let factorials = [1];
  for (let i = 1; i &lt;= len; ++i) {
    factorials.push(factorials[i - 1] * i);
  }

  if (n &lt; 0) throw {msg: 'n is too small'};
  if (n >= factorials[len]) throw {msg: 'n is too big'};

  let res = [];
  for (let i = len; i >= 1; --i) {
    let index = Math.floor(n / factorials[i - 1]);
    console.log(index);
    res.push(arr.splice(index, 1)[0]);
    n -= index * factorials[i - 1];
  }

  return res;
}

exports.RAPNonUnique = RAPNonUnique;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-dp.html">dp</a></li><li><a href="module-random-access-permutation.html">random-access-permutation</a></li></ul><h3>Global</h3><ul><li><a href="global.html#DP">DP</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.2</a> on Thu May 23 2019 22:46:49 GMT-0700 (Pacific Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
